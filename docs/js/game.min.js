!function e(t,r,n){function s(i,a){if(!r[i]){if(!t[i]){var c="function"==typeof require&&require;if(!a&&c)return c(i,!0);if(o)return o(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[i]={exports:{}};t[i][0].call(l.exports,function(e){var r=t[i][1][e];return s(r||e)},l,l.exports,e,t,r,n)}return r[i].exports}for(var o="function"==typeof require&&require,i=0;i<n.length;i++)s(n[i]);return s}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"BootScene"}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.Scene),n(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;this.scene.start("BootScene"),console.log("Booting..."),setTimeout(function(){e.scene.start("MenuScene")},500)}}]),t}();r.default=s},{}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=i(e("config")),o=i(e("characters/Marco"));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"GameScene",physics:{default:"arcade",system:"arcade",gravity:100,setBounds:{width:t.width,height:t.height},arcade:{gravity:{y:200}}}}));return e.width=t.width,e.height=t.height,e.player=new o.default(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.Scene),n(t,[{key:"preload",value:function(){this.load.image("background","img/backgrounds/background.png"),this.load.image("trains","img/backgrounds/trains.png"),this.player.preload()}},{key:"create",value:function(){this.scene.start("GameScene"),console.log("Game started!");var e=this.add.image(0,0,"background");e.setOrigin(0,0),e.scaleX=s.default.scaleX,e.scaleY=s.default.scaleY;var t=this.physics.add.staticGroup().create(0,0,"trains");t.setOrigin(0,0),t.scaleX=s.default.scaleX,t.scaleY=s.default.scaleY,this.player.create()}},{key:"update",value:function(){this.player.update()}}],[{key:"setWidth",value:function(e){t.width=e}},{key:"setHeight",value:function(e){t.height=e}}]),t}();r.default=a},{"characters/Marco":4,config:5}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"MenuScene"}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Phaser.Scene),n(t,[{key:"preload",value:function(){}},{key:"create",value:function(){var e=this;this.scene.start("MenuScene"),console.log("In menu..."),setTimeout(function(){e.scene.start("GameScene")},500)}}]),t}();r.default=s},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=e("config"),i=(n=o)&&n.__esModule?n:{default:n};var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scene=t,this.sprites={},this.direction="right",this.legAction="Idle",this.torsoAction="Idle",this.weapons=["Pistol","Shotgun","Uzi"],this.currentWeaponIndex=0}return s(e,[{key:"changeDirection",value:function(e){this.sprites.legs.scaleX=-this.sprites.legs.scaleX,this.sprites.torso.scaleX=-this.sprites.torso.scaleX,this.direction=e}},{key:"run",value:function(e){e?"Run"!=this.legAction&&"jump"!=this.legAction&&(this.sprites.legs.anims.play("marcoLegsRun"),this.legAction="Run"):"Run"==this.legAction&&(this.sprites.legs.anims.play("marcoLegsIdle"),this.legAction="Idle")}},{key:"changeWeapon",value:function(e){e!=this.currentWeaponIndex&&(this.currentWeaponIndex=void 0!==e?e:(this.currentWeaponIndex+1)%this.weapons.length,this.sprites.torso.anims.play("marcoTorso"+this.weapons[this.currentWeaponIndex]+this.torsoAction))}},{key:"fireWeapon",value:function(e){e?"Shoot"!=this.torsoAction&&(this.torsoAction="Shoot",this.sprites.torso.anims.play("marcoTorso"+this.weapons[this.currentWeaponIndex]+this.torsoAction)):"Shoot"==this.torsoAction&&(this.torsoAction="Idle",this.sprites.torso.anims.play("marcoTorso"+this.weapons[this.currentWeaponIndex]+this.torsoAction))}},{key:"preload",value:function(){this.scene.load.spritesheet("marcoLegs","img/marco/marco_legs.png",{frameWidth:116,frameHeight:52}),this.scene.load.spritesheet("marcoTorso","img/marco/marco_torso.png",{frameWidth:116,frameHeight:52})}},{key:"create",value:function(){var e=this;this.key_A=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),this.key_D=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),this.key_Space=this.scene.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE),this.sprites.legs=this.scene.physics.add.sprite(Math.floor(this.scene.width/2),i.default.height-119*i.default.scaleY,"marcoLegs"),this.sprites.torso=this.scene.physics.add.sprite(Math.floor(this.scene.width/2),i.default.height-119*i.default.scaleY,"marcoTorso"),this.sprites.legs.scaleX=i.default.scaleX,this.sprites.legs.scaleY=i.default.scaleY,this.sprites.torso.scaleX=i.default.scaleX,this.sprites.torso.scaleY=i.default.scaleY,this.sprites.legs.setCollideWorldBounds(!0),this.sprites.torso.setCollideWorldBounds(!0),this.scene.anims.create({key:"marcoLegsIdle",frames:this.scene.anims.generateFrameNumbers("marcoLegs",{start:0,end:2}),frameRate:5,repeat:-1}),this.scene.anims.create({key:"marcoLegsJump",frames:this.scene.anims.generateFrameNumbers("marcoLegs",{start:3,end:3}),frameRate:1,repeat:-1}),this.scene.anims.create({key:"marcoLegsRun",frames:this.scene.anims.generateFrameNumbers("marcoLegs",{start:4,end:15}),frameRate:18,repeat:-1}),this.scene.anims.create({key:"marcoTorsoPistolIdle",frames:this.scene.anims.generateFrameNumbers("marcoTorso",{start:0,end:5}),frameRate:18,repeat:-1}),this.scene.anims.create({key:"marcoTorsoPistolShoot",frames:this.scene.anims.generateFrameNumbers("marcoTorso",{start:6,end:9}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"marcoTorsoShotgunIdle",frames:this.scene.anims.generateFrameNumbers("marcoTorso",{start:10,end:15}),frameRate:18,repeat:-1}),this.scene.anims.create({key:"marcoTorsoShotgunShoot",frames:this.scene.anims.generateFrameNumbers("marcoTorso",{start:16,end:19}),frameRate:12,repeat:-1}),this.scene.anims.create({key:"marcoTorsoUziIdle",frames:this.scene.anims.generateFrameNumbers("marcoTorso",{start:20,end:25}),frameRate:18,repeat:-1}),this.scene.anims.create({key:"marcoTorsoUziShoot",frames:this.scene.anims.generateFrameNumbers("marcoTorso",{start:26,end:29}),frameRate:12,repeat:-1}),this.sprites.legs.anims.play("marcoLegsIdle"),this.sprites.torso.anims.play("marcoTorsoPistolIdle"),this.scene.input.keyboard.on("keydown_Z",function(){e.changeWeapon()})}},{key:"update",value:function(){this.key_A.isDown?("left"!=this.direction&&this.changeDirection("left"),this.run(!0),this.sprites.legs.x--,this.sprites.torso.x--):this.key_D.isDown?("right"!=this.direction&&this.changeDirection("right"),this.run(!0),this.sprites.legs.x++,this.sprites.torso.x++):this.run(!1),this.key_Space.isDown?this.fireWeapon(!0):this.fireWeapon(!1)}}]),e}();r.default=a},{config:5}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=Math.floor(window.innerWidth*window.devicePixelRatio*.95),s=Math.floor(window.innerHeight*window.devicePixelRatio*.95),o=n/1024,i=(s=Math.floor(184*n/1024))/184;r.default={width:n,height:s,scaleX:o,scaleY:i}},{}],6:[function(e,t,r){"use strict";var n=a(e("config")),s=a(e("Scenes/BootScene")),o=a(e("Scenes/MenuScene")),i=a(e("Scenes/GameScene"));function a(e){return e&&e.__esModule?e:{default:e}}var c=n.default.width,u=n.default.height;i.default.setWidth(c),i.default.setHeight(u);var l={type:Phaser.AUTO,parent:"game",width:c,height:u,scene:[s.default,o.default,i.default]};new Phaser.Game(l)},{"Scenes/BootScene":1,"Scenes/GameScene":2,"Scenes/MenuScene":3,config:5}]},{},[6]);